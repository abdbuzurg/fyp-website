{"version":3,"sources":["webpack:///./src/views/DriverFeed.vue","webpack:///./src/views/DriverFeed.vue?90dd"],"names":["class","src","driverFeed","item","key","id","firstName","lastName","pricing","mobileNumber","destinationFrom","destinationTo","departureDate","slice","createdAt","components","Navigation","data","pagination","end","created","loadData","methods","token","localStorage","getItem","a","get","headers","Authorization","then","res","length","i","post","clientId","result","catch","err","console","log","openDetailInfo","this","$router","push","path","params","render"],"mappings":"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","file":"js/chunk-2d0ae509.4753a7bb.js","sourcesContent":["<template>\r\n  <div>\r\n    <Navigation />\r\n<div class=\"row mx-auto m-3\"></div>\r\n\r\n<div class=\"container\">\r\n  <div class=\"card m-3\" v-for=\"item in driverFeed\" :key=\"item.id\">\r\n    <div class=\"card-body\">\r\n      <div class=\"row m-2 \">\r\n        <div class=\"col \">\r\n          <h5 class=\"card-title\"><img src=\"@/assets/person.png\" class=\"location m-1\" />Name</h5>\r\n          <p class=\"card-text\">{{ item.firstName }} {{item.lastName}}</p>\r\n        </div>\r\n        <div class=\"col \">\r\n          <h5 class=\"card-title\">Pricing</h5>\r\n          <p class=\"card-text\">{{ item.pricing }} Somoni</p>\r\n        </div>\r\n        <div class=\"col \">\r\n          <h5 class=\"card-title\">Mobile Number</h5>\r\n          <p class=\"card-text\">{{ item.mobileNumber }}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"row m-2\">\r\n        <div class=\"col \">\r\n          <h5 class=\"card-title\"><img src=\"@/assets/person.png\"/>Initial Location</h5>\r\n          <p class=\"card-text\">{{item.destinationFrom}}</p>\r\n        </div>\r\n        <div class=\"col\">\r\n          <h5 class=\"card-title\"><img src=\"@/assets/location.png\" class=\"location m-1\"/>Final location</h5>\r\n          <p class=\"card-text\">{{item.destinationTo}}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"row m-2\">\r\n        <div class=\"col \">\r\n          <h5 class=\"card-title\">Departure Date</h5>\r\n          <p class=\"card-text\">{{item.departureDate.slice(0, 10)}}</p>\r\n        </div>\r\n        <div class=\"col\">\r\n          <h5 class=\"card-title\">Posted on</h5>\r\n          <p class=\"card-text\">{{item.createdAt.slice(0, 10)}}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<!-- Footer 11 -->\r\n\r\n<footer class=\"footer_11 bg-orange pt-45 pb-45 color-white text-center\">\r\n\t<div class=\"container px-xl-0\">\r\n\t\t<div class=\"row align-items-center\">\r\n\t\t\t<div class=\"mb-20 mb-lg-0 col-lg-3\" data-aos-duration=\"600\" data-aos=\"fade-down\" data-aos-delay=\"0\">\r\n\t\t\t\t<a href=\"#\" class=\"logo link color-white\">Get a ride</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div data-aos-duration=\"600\" data-aos=\"fade-down\" data-aos-delay=\"600\"> \r\n\t\t\t<div class=\"mt-45 mb-45 hr h-2 bg-white op-3\"></div>\r\n\t\t</div>\r\n\t</div>\r\n</footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport Navigation from \"../components/Navigation\";\r\nimport axios from 'axios';\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    Navigation\r\n  },\r\n  data(){\r\n    return {\r\n      pagination: 0,\r\n      end: false,\r\n      driverFeed: []\r\n    };\r\n  },\r\n  async created(){\r\n    while(!this.end){\r\n      await this.loadData(this.pagination);\r\n      this.pagination++;\r\n    }\r\n  },\r\n  methods: {\r\n    async loadData(pagination){\r\n      const token = localStorage.getItem(\"token\");\r\n      await axios.get(`https://fyp-new-backend.herokuapp.com/api/v1/driver/pagination/${pagination}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      }).then((res) => res.data.data)\r\n      .then(async(data) => {\r\n        if (data.length != 10) this.end = true;\r\n        for(let i=0; i<data.length;i++){\r\n          await axios.post(`https://fyp-new-backend.herokuapp.com/api/v1/user/getUser`, { id: data[i].clientId} , {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`\r\n            }\r\n          }).then((res) => res.data.data).then(result => {\r\n            data[i].firstName = result.firstName;\r\n            data[i].lastName = result.lastName;\r\n            data[i].mobileNumber = result.mobileNumber;\r\n          }).catch(err => console.log(err));\r\n        }\r\n        this.driverFeed = [...this.driverFeed, ...data];\r\n        console.log(this.end);\r\n      }).catch(err => {\r\n        console.log(err);\r\n      });\r\n    },\r\n    openDetailInfo(item){\r\n\t\t\tthis.$router.push({\r\n\t\t\t\tpath: `/driverfeed/detail/${item.id}`,\r\n\t\t\t\tparams: {id: item.id}\r\n\t\t\t})\r\n\t\t}\r\n  }\r\n});\r\n\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import { render } from \"./DriverFeed.vue?vue&type=template&id=3bc69c5f\"\nimport script from \"./DriverFeed.vue?vue&type=script&lang=js\"\nexport * from \"./DriverFeed.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}